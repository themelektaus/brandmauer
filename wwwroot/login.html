<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title><!--title-->: <!--host--></title>
        <base href="/">
        <!--static: style-->
        <link rel="stylesheet" href="static/fas/css/all.min.css">
        <style> button i.fas { margin-right: .5rem } </style>
        <script src="static/script/002-event-target.js"></script>
        <script src="static/script/005-startup.js"></script>
        <script>
            addEventListener(`load`, () =>
            {
                function onKeyDown(e)
                {
                    if (e.keyCode != 13)
                        return
                    
                    e.preventDefault = true
                    q(`#submit`).click()
                }
                
                q(`#username`).addEventListener(`keydown`, onKeyDown)
                q(`#password`).addEventListener(`keydown`, onKeyDown)
                
                q(`#username`).focus()
                
                q(`#submit`).addEventListener(`click`, async () =>
                {
                    const username = q(`#username`).value
                    if (!username)
                        return
                    
                    const password = q(`#password`).value
                    if (!password)
                        return
                    
                    q(`#submit`).disabled = true
                    
                    const type = `application/x-www-form-urlencoded`
                    
                    const data = new URLSearchParams()
                    data.append(
                        `X-<!--title-->-Session-Token`,
                        btoa(`${username}:${password}`)
                    )
                    
                    const response = await fetch(`login`,
                    {
                        method: `post`,
                        headers: { "Content-Type": type },
                        body: data
                    })
                    
                    location.reload()
                })
            })
        </script>
    </head>
    <body>
        <h1>
            <i class="fas fa-fire"></i>
            <!--title-->
        </h1>
        <main style="justify-content: center; align-items: center; gap: 1rem; opacity: 0; translate: 0 2rem;
                     transition: all .2s cubic-bezier(.75, .75, .75, 1); ">
            <div style="display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;
                        background-color: #292929; flex: 0; padding: 2rem; box-shadow: 0 .5rem 2rem -1.5rem black;
                        border-radius: .25rem; ">
                <i class="fas fa-lock" style="font-size: 2em; "></i>
                <h2><!--host--></h2>
                <div style="width: 15em; display: flex; flex-direction: column; flex: 0; gap: .5rem; ">
                    <input type="text" id="username" placeholder="Username" style="text-align: center; ">
                    <input type="password" id="password" placeholder="Password" style="text-align: center; ">
                    <button style="align-self: center; " id="submit"><i class="fas fa-unlock"></i>Unlock</button>
                </div>
            </div>
        </main>
    </body>
</html>